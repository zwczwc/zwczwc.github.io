<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="&#34;auto&#34;"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="/img/about.png"><link rel="icon" href="/img/about.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="theme-color" content="#2f4154"><meta name="description" content=""><meta name="author" content="葱葱"><meta name="keywords" content=""><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css"><script src="/js/autoload.js"></script><title>Android实习笔记 - CoolCC.top</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4.0.0/github-markdown.min.css"><link rel="stylesheet" href="/lib/hint/hint.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.7.2/styles/github-gist.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_2604111_9w5dmb8rq8d.css"><script id="fluid-configs">var Fluid=window.Fluid||{},CONFIG={hostname:"example.com",root:"/",version:"1.8.11",typing:{enable:!0,typeSpeed:70,cursorChar:"_",loop:!1},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"right",visible:"hover",icon:""},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},copy_btn:!0,image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:0},lazyload:{enable:!0,loading_img:"/img/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!1,baidu:null,google:null,gtag:null,tencent:{sid:null,cid:null},woyaola:null,cnzz:null,leancloud:{app_id:null,app_key:null,server_url:null}},search_path:"/local-search.xml"}</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><meta name="generator" content="Hexo 5.4.0"></head><body><header style="height:70vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/">&nbsp;<strong>CoolCC</strong>&nbsp;</a> <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/"><i class="iconfont icon-home-fill"></i> 首页</a></li><li class="nav-item"><a class="nav-link" href="/archives/"><i class="iconfont icon-archive-fill"></i> 归档</a></li><li class="nav-item"><a class="nav-link" href="/categories/"><i class="iconfont icon-category-fill"></i> 分类</a></li><li class="nav-item"><a class="nav-link" href="/tags/"><i class="iconfont icon-tags-fill"></i> 标签</a></li><li class="nav-item"><a class="nav-link" href="/about/"><i class="iconfont icon-user-fill"></i> 关于</a></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" data-toggle="modal" data-target="#modalSearch">&nbsp;<i class="iconfont icon-search"></i>&nbsp;</a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self">&nbsp;<i class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a></li></ul></div></div></nav><div class="banner" id="banner" parallax="true" style="background:url(/img/default.png) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="page-header text-center fade-in-up"><span class="h2" id="subtitle" title="Android实习笔记"></span><div class="mt-3"><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2018-09-12 00:00" pubdate>2018年9月12日 凌晨</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 4.3k 字 </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 54 分钟 </span><span id="busuanzi_container_page_pv" style="display:none"><i class="iconfont icon-eye" aria-hidden="true"></i> <span id="busuanzi_value_page_pv"></span> 次</span></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div class="py-5" id="board"><article class="post-content mx-auto"><h1 style="display:none">Android实习笔记</h1><div class="markdown-body"><p>⚠️ 杂乱无章链接且极大可能打不开</p><h4 id="版本控制"><a href="#版本控制" class="headerlink" title="版本控制"></a>版本控制</h4><p>Git 是流行的代码版本控制系统，Gerrit是代码审核系统，实现Web界面上的代码版本控制。</p><p>git checkout 撤销修改，让工作区文件回到最近一次 git commit 或 git add 时的状态</p><h4 id="JAVA多线程访问同一个可变变量，需增加同步机制"><a href="#JAVA多线程访问同一个可变变量，需增加同步机制" class="headerlink" title="JAVA多线程访问同一个可变变量，需增加同步机制"></a>JAVA多线程访问同一个可变变量，需增加同步机制</h4><p>JVM中存在一个主内存(Java Heap Memory)，Java 中所有变量都储存在主内存中，对于所有线程都是共享的。</p><p>每个线程都有自己的工作内存 (Working Memory)，工作内存中保存的是主存中某些变量的拷贝，线程对所有变量的操作都是在工作内存中进行</p><p>线程之间无法相互直接访问，变量传递均需要通过主内存完成。</p><p>根据上述内存模型的定义，要在多个线程间安全的同步共享数据就必须使用锁机制，将某线程中更新的数据从其工作内存中刷新至主内存，并确保其他线程从主内存获取此数据更新后的值再使用</p><h4 id="使用-System-arraycopy-进行数组复制"><a href="#使用-System-arraycopy-进行数组复制" class="headerlink" title="使用 System.arraycopy() 进行数组复制"></a>使用 System.arraycopy() 进行数组复制</h4><p>在将一个数组对象复制成另外一个数组对象时，不要自己使用循环复制，可以使用JAVA提供的System.arraycopy() 功能来复制数据对象，避免出错，效率更高</p><h4 id="aar库文件和-jar库文件的区别"><a href="#aar库文件和-jar库文件的区别" class="headerlink" title=".aar库文件和.jar库文件的区别"></a>.aar库文件和.jar库文件的区别</h4><p>aar 文件是建立在 jar 文件的基础之上， aar 是 jar 文件的一个变种。本质上没有什么区别，都是压缩包，<strong>只是能包含的内容不一样</strong>。</p><ul><li>jar 只包含了 class 文件与清单文件。虽然也能包含资源文件，但不过是文本资源和图片资源，不能包含 Android 平台下的 drawable 以及各种 xml 文件.</li><li>aar 包括的东西更多一些，包含所有资源文件、第三方库文件、so 文件、class 以及 res 资源文件全部包含。</li></ul><h4 id="Android接口回调机制"><a href="#Android接口回调机制" class="headerlink" title="Android接口回调机制"></a>Android接口回调机制</h4><p>接口回调的意思即，注册之后并不立马执行，而在某个时机触发执行 。</p><p>回调方法就是一个通过方法指针来调用的方法（接口），如果我将这个方法的指针（地址，引用）通过形参传递到另一个类的某个方法里（setCallBack 注册），那么当这个类调用该方法里面我所传入的指针时，就能调用我这边的方法。</p><p>整个过程就是我传入方法 A 的地址，你接收，并在某个时刻回调我这边的 A 方法。由于 Java 没办法操作指针，于是它用接口来实现。</p><p>主要步骤如下：</p><ul><li>定义接口 Callback ,包含回调方法 callback()；</li><li>B 类提供注册的方法，并设定在某个条件下会回调接口方法；</li><li>A 类提供接口的实现方法，并注册到 B 类，把方法地址传进去。</li></ul><p>这样,在需要的时候,可用 CamCallback 接口成员调用 callback() 方法,完成回调了。</p><p>例子：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BService</span> </span>&#123;<br>    <br>	<span class="hljs-keyword">private</span> OnParserCallBack callBack;<br>    <span class="hljs-comment">//B类中定义接口定义回调方法</span><br>	<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">OnParserCallBack</span> </span>&#123;<br>		<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnParserComplete</span><span class="hljs-params">(List&lt;HoursWeatherBean&gt; list,</span></span><br><span class="hljs-params"><span class="hljs-function">				PMBean pmBean, WeatherBean weatherBean)</span></span>;<br>	&#125;<br>	<span class="hljs-comment">//注册用于接收A类传递过来数据</span><br>	<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setCallBack</span><span class="hljs-params">(OnParserCallBack callback)</span> </span>&#123;<br>		<span class="hljs-keyword">this</span>.callBack = callback;<br>	&#125;<br>	<br>	<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">removeCallback</span><span class="hljs-params">()</span></span>&#123;<br>		callBack = <span class="hljs-keyword">null</span>;<br>	&#125;<br>      <br>    <span class="hljs-comment">//dosomething()</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">getCityWeather</span><span class="hljs-params">()</span> </span>&#123;<br>		<span class="hljs-keyword">if</span>(callBack!=<span class="hljs-keyword">null</span>)&#123;<br>		    <span class="hljs-comment">//这里使用的是A类传递的数据</span><br>			callBack.OnParserComplete(list, pmBean, weatherBean);<br>					<br>	&#125;<br> <br>&#125;<br> <br> <br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Amain</span></span>&#123;<br>     <span class="hljs-keyword">private</span> BService mbService;<br>	 <span class="hljs-comment">//注册</span><br>	 mbService.setCallBack(<span class="hljs-keyword">new</span> OnParserCallBack()&#123;<br>	    <span class="hljs-comment">//回调方法</span><br>		<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnParserComplete</span><span class="hljs-params">(List&lt;HoursWeatherBean&gt; list, PMBean pmBean,</span></span><br><span class="hljs-params"><span class="hljs-function">						WeatherBean weatherBean)</span> </span>&#123;<br>				<span class="hljs-comment">//接收数据后开始用于显示</span><br>				setHourViews(list);<br>				setPmViews(pmBean);<br>				setWeather(weatherBean);<br>		&#125;<br>	   &#125;);<br>	 mbService.getCityWeather();<br>&#125;<br></code></pre></td></tr></table></figure><p>另外的网页参考：</p><p><a target="_blank" rel="noopener" href="http://www.apkbus.com/thread-589290-1-1.html">http://www.apkbus.com/thread-589290-1-1.html</a></p><p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/f05730ab5d05">https://www.jianshu.com/p/f05730ab5d05</a></p><h4 id="EditText-不换行"><a href="#EditText-不换行" class="headerlink" title="EditText 不换行"></a>EditText 不换行</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml">android:singleLine=&quot;true&quot;<br></code></pre></td></tr></table></figure><h4 id="Java-中-int-转-String-的三种方式"><a href="#Java-中-int-转-String-的三种方式" class="headerlink" title="Java 中 int 转 String 的三种方式"></a>Java 中 int 转 String 的三种方式</h4><ol><li>a+”“ 这种效率最低</li><li>String.valueOf(a)</li><li>Integer.toString(a)</li></ol><h4 id="牛逼的-material-dialogs"><a href="#牛逼的-material-dialogs" class="headerlink" title="牛逼的 material-dialogs"></a>牛逼的 material-dialogs</h4><p><a target="_blank" rel="noopener" href="https://github.com/afollestad/material-dialogs">https://github.com/afollestad/material-dialogs</a></p><h4 id="解决支持库版本兼容问题"><a href="#解决支持库版本兼容问题" class="headerlink" title="解决支持库版本兼容问题"></a>解决支持库版本兼容问题</h4><p>如果引用的第三方库的支持库版本低于（或者不一致）app build.gradle 中的支持库版本，可能会出现如下问题：</p><p>all com.android.support libraries must use the exact same version specification(mixing versions can lead to runtime crashes)</p><p>去改第三方库所用的支持库版本比较麻烦，如果用的库很多的话工作量很大。这个时候我们可以考虑强制让所有模块都用相同的支持库版本。</p><p>在 app build.gradle 中添加：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java">configurations.all &#123;<br>    resolutionStrategy.eachDependency &#123; DependencyResolveDetails details -&gt;<br>        def requested = details.<span class="hljs-function">requested</span><br><span class="hljs-function">        <span class="hljs-title">if</span> <span class="hljs-params">(requested.group == <span class="hljs-string">&#x27;com.android.support&#x27;</span>)</span> </span>&#123;<br>            <span class="hljs-keyword">if</span> (!requested.name.startsWith(<span class="hljs-string">&quot;multidex&quot;</span>)) &#123;<br>                details.useVersion <span class="hljs-string">&#x27;26.0.1&#x27;</span><br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h4 id="TextView滚动设置"><a href="#TextView滚动设置" class="headerlink" title="TextView滚动设置"></a>TextView滚动设置</h4><p>只要在布局的 xml 文件中设置 TextView 的属性：</p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs avrasm"><span class="hljs-symbol">android:</span>maxLines = <span class="hljs-string">&quot;AN_INTEGER&quot;</span><br><br><span class="hljs-symbol">android:</span>scrollbars = <span class="hljs-string">&quot;vertical&quot;</span><br></code></pre></td></tr></table></figure><p>然后在代码中用：</p><figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs haxe">yourTextView.setMovementMethod(<span class="hljs-keyword">new</span> <span class="hljs-type">ScrollingMovementMethod</span>())<br></code></pre></td></tr></table></figure><p>它可以自由的滚动了。</p><h4 id="Android-文件下载三种基本方式"><a href="#Android-文件下载三种基本方式" class="headerlink" title="Android 文件下载三种基本方式"></a>Android 文件下载三种基本方式</h4><h5 id="1-自己封装-URLConnection-连接请求类"><a href="#1-自己封装-URLConnection-连接请求类" class="headerlink" title="1.自己封装 URLConnection 连接请求类"></a>1.自己封装 URLConnection 连接请求类</h5><p>这种方式在 Android 刚兴起的时候，很少下载封装框架，就自己封装了。虽然一般的文件都能下载，但这种方式缺点很多，不稳定或者各种各样的问题会出现。</p><h5 id="2-Android-自定的下载管理（会在-notification-显示下载的进度，同时可以暂停、重新连接等）"><a href="#2-Android-自定的下载管理（会在-notification-显示下载的进度，同时可以暂停、重新连接等）" class="headerlink" title="2.Android 自定的下载管理（会在 notification 显示下载的进度，同时可以暂停、重新连接等）"></a>2.Android 自定的下载管理（会在 notification 显示下载的进度，同时可以暂停、重新连接等）</h5><p>这种方式其实就是交给了 Android 系统的另一个 app 去下载管理。这样的好处不会消耗该APP 的 CPU 资源。缺点是：控制起来很不灵活。</p><p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/46fd1c253701">https://www.jianshu.com/p/46fd1c253701</a></p><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/gooder2-android/p/8966045.html">https://www.cnblogs.com/gooder2-android/p/8966045.html</a></p><h5 id="3-使用第三方-okhttp-网络请求框架"><a href="#3-使用第三方-okhttp-网络请求框架" class="headerlink" title="3.使用第三方 okhttp 网络请求框架"></a>3.使用第三方 okhttp 网络请求框架</h5><p>okhttp 是一个很有名气的开源框架，目前已经很多大公司都直接使用它作为网络请求库（七牛云 SDK， 阿里云 SDK）。 且里面集成了很多优势，包括 okio (一个 I/O 框架，优化内存与 CPU)。</p><p>综合来看，第三种方案是最佳的，是目前最流行的下载方案。</p><p>第三方框架还研究了封装 okhttp 的<a target="_blank" rel="noopener" href="https://github.com/jeasonlzy/okhttp-OkGo">OKgo</a></p><p><a target="_blank" rel="noopener" href="https://github.com/AriaLyy/Aria">Aria</a></p><h4 id="Android-6-0-以上文件读写权限"><a href="#Android-6-0-以上文件读写权限" class="headerlink" title="Android 6.0 以上文件读写权限"></a>Android 6.0 以上文件读写权限</h4><p>除了在清单文件中声明权限，还需要在访问文件时动态申请权限</p><h5 id="1、AndroidManifest-xml-文件添加"><a href="#1、AndroidManifest-xml-文件添加" class="headerlink" title="1、AndroidManifest.xml 文件添加:"></a>1、AndroidManifest.xml 文件添加:</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">application</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">uses-permission</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;android.permission.READ_EXTERNAL_STORAGE&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">uses-permission</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">manifest</span>&gt;</span><br></code></pre></td></tr></table></figure><h5 id="2、onCreate-或其他访问文件位置添加授权"><a href="#2、onCreate-或其他访问文件位置添加授权" class="headerlink" title="2、onCreate() 或其他访问文件位置添加授权"></a>2、onCreate() 或其他访问文件位置添加授权</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">checkPermission</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-comment">//检查权限（NEED_PERMISSION）是否被授权 PackageManager.PERMISSION_GRANTED表示同意授权</span><br>    <span class="hljs-keyword">if</span> (ActivityCompat.checkSelfPermission(<span class="hljs-keyword">this</span>, Manifest.permission.WRITE_EXTERNAL_STORAGE)<br>            != PackageManager.PERMISSION_GRANTED) &#123;<br>        <span class="hljs-comment">//用户已经拒绝过一次，再次弹出权限申请对话框需要给用户一个解释</span><br>        <span class="hljs-keyword">if</span> (ActivityCompat.shouldShowRequestPermissionRationale(<span class="hljs-keyword">this</span>, Manifest.permission<br>                .WRITE_EXTERNAL_STORAGE)) &#123;<br>            Toast.makeText(<span class="hljs-keyword">this</span>, <span class="hljs-string">&quot;请开通相关权限，否则无法正常使用本应用！&quot;</span>, Toast.LENGTH_SHORT).show();<br>        &#125;<br>        <span class="hljs-comment">//申请权限</span><br>        ActivityCompat.requestPermissions(<span class="hljs-keyword">this</span>, <span class="hljs-keyword">new</span> String[]&#123;Manifest.permission.WRITE_EXTERNAL_STORAGE&#125;, REQUEST_WRITE_EXTERNAL_STORAGE);<br><br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        Toast.makeText(<span class="hljs-keyword">this</span>, <span class="hljs-string">&quot;授权成功！&quot;</span>, Toast.LENGTH_SHORT).show();<br>        Log.e(TAG_SERVICE, <span class="hljs-string">&quot;checkPermission: 已经授权！&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>没有第二步的话需要自己去手机的应用程序设置手动允许权限。</p><h4 id="Android-7-0-FileProvider-问题"><a href="#Android-7-0-FileProvider-问题" class="headerlink" title="Android 7.0 FileProvider 问题"></a>Android 7.0 FileProvider 问题</h4><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/growing_tree/article/details/71190741">https://blog.csdn.net/growing_tree/article/details/71190741</a></p><h4 id="lambda-表达式"><a href="#lambda-表达式" class="headerlink" title="lambda 表达式"></a>lambda 表达式</h4><p>Java的新特性，目的是使得代码更加简洁，只有一个待实现方法的接口，都可以使用 Lambda表达式的写法，例如</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// λ</span><br><span class="hljs-keyword">return</span> (<span class="hljs-keyword">new</span> Runnable()&#123;<br>　　<span class="hljs-meta">@Override</span><br>　　<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span></span>&#123;<br>　　&#125;<br>&#125;);<br></code></pre></td></tr></table></figure><p>转成 Lanbda 表达式就是</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">return</span> ()-&gt;&#123;&#125;;<br></code></pre></td></tr></table></figure><p>如需为您的项目启用 Java 8 语言功能和 Jack，请在模块层级的 build.gradle 文件中输入以下内容：</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-class">android </span>&#123;<br>  ...<br>  <span class="hljs-class">defaultConfig </span>&#123;<br>    ...<br>    <span class="hljs-class">jackOptions </span>&#123;<br>      enabled true<br>    &#125;<br>  &#125;<br>  <span class="hljs-class">compileOptions </span>&#123;<br>    sourceCompatibility JavaVersion.VERSION_1_8<br>    targetCompatibility JavaVersion.VERSION_1_8<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="Jsoup-安卓端的爬虫"><a href="#Jsoup-安卓端的爬虫" class="headerlink" title="Jsoup 安卓端的爬虫"></a>Jsoup 安卓端的爬虫</h4><p>加库后用三行代码，即可获得应用名到应用包名的转换。感谢酷安</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java">Document doc = Jsoup.connect(<span class="hljs-string">&quot;https://www.coolapk.com/search?q=&quot;</span>+pack_name).get();<br>Elements res =doc.select(<span class="hljs-string">&quot;#game_left &gt; div &gt; a:nth-child(2)&quot;</span>);<br>String ss = res.attr(<span class="hljs-string">&quot;href&quot;</span>).substring(<span class="hljs-number">5</span>);<br></code></pre></td></tr></table></figure><h4 id="解决网络请求多线程的骚操作"><a href="#解决网络请求多线程的骚操作" class="headerlink" title="解决网络请求多线程的骚操作"></a>解决网络请求多线程的骚操作</h4><p>问题是：如何让主线程等待子线程获得网络数据后再继续运行？</p><p>设网络数据为全局变量 x，再设一个全局 flag 变量。设全局变量是为了让变量可访问，但不知会否引起安全和效率问题。</p><p>主线程设置 flag 变量的死循环，子线程执行网络请求，成功修改 x 完毕再修改 flag 变量，使得主线程离开死循环继续执行。这时，主线程就能使用到存储了网络数据的 x 变量。（机智）</p><p><a target="_blank" rel="noopener" href="https://bbs.csdn.net/topics/391838191">https://bbs.csdn.net/topics/391838191</a></p><h4 id="AsyncTask-优点缺点"><a href="#AsyncTask-优点缺点" class="headerlink" title="AsyncTask 优点缺点"></a>AsyncTask 优点缺点</h4><p>优点：简单快捷</p><p>缺点：后台真正只有一个线程，多线程是串行执行的</p><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/evan123mg/article/details/52960339">https://blog.csdn.net/evan123mg/article/details/52960339</a></p><h4 id="Handler学习"><a href="#Handler学习" class="headerlink" title="Handler学习"></a>Handler学习</h4><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/u010177022/article/details/63278070">https://blog.csdn.net/u010177022/article/details/63278070</a></p><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/songmingzhan/article/details/78408383">https://blog.csdn.net/songmingzhan/article/details/78408383</a></p><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/ryanleee/p/8204450.html">https://www.cnblogs.com/ryanleee/p/8204450.html</a></p><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/android007/archive/2012/05/10/2494766.html">https://www.cnblogs.com/android007/archive/2012/05/10/2494766.html</a></p><p>避免内存泄漏</p><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/JohnTsai/p/5259869.html">https://www.cnblogs.com/JohnTsai/p/5259869.html</a></p><h4 id="主线程给子线程传参数"><a href="#主线程给子线程传参数" class="headerlink" title="主线程给子线程传参数"></a>主线程给子线程传参数</h4><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/choubaoguai/article/details/23671441">https://blog.csdn.net/choubaoguai/article/details/23671441</a></p><ol><li><p>构造函数传递数据</p><p>定义一个线程类，扩展 Thread，增加一个成员变量，用来保存传进来的参数。新加一个拷贝构造函数，拷贝写入到成员变量。</p></li><li><p>变量和方法传递数据</p></li><li><p>回调函数</p></li></ol><h4 id="ADB-快捷从电脑安装apk到手机"><a href="#ADB-快捷从电脑安装apk到手机" class="headerlink" title="ADB 快捷从电脑安装apk到手机"></a>ADB 快捷从电脑安装apk到手机</h4><p>打开 cmd，输入指令，路径可以直接从资源管理器拖过去</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">adb <span class="hljs-keyword">install</span> -r 路径<br></code></pre></td></tr></table></figure><h4 id="注解：编译时注解和运行时注解"><a href="#注解：编译时注解和运行时注解" class="headerlink" title="注解：编译时注解和运行时注解"></a>注解：编译时注解和运行时注解</h4><p><a target="_blank" rel="noopener" href="http://www.mamicode.com/info-detail-1317919.html">http://www.mamicode.com/info-detail-1317919.html</a></p><p><a target="_blank" rel="noopener" href="http://www.importnew.com/1796.html">http://www.importnew.com/1796.html</a></p><h4 id="动态权限申请"><a href="#动态权限申请" class="headerlink" title="动态权限申请"></a>动态权限申请</h4><p><a target="_blank" rel="noopener" href="https://github.com/mylhyl/AndroidAcp">https://github.com/mylhyl/AndroidAcp</a></p><h4 id="Android-存储路径"><a href="#Android-存储路径" class="headerlink" title="Android 存储路径"></a>Android 存储路径</h4><p>补充：对于现在市面上很多 Android 设备，自带了一个大的存储空间，一般是 8GB 或 16GB，并且又支持了 sdCard 扩展，对于这样的设备，使用 Enviroment.getExternalStorageDirectory() 方法只能获取到设备自带的存储空间，对于另外扩展的 sdCard 而言，需要修改路径。</p><p>保存到应用的内部文件夹——在 “Android/Data/应用包名/…”路径下，卸载应用时也会一并清除</p><p>通过 getExternalFilesDir() 方法可以获取到 SDCard/Android/data/你的应用的包名/files/ 目录，一般放一些长时间保存的数据</p><p>通过 getExternalCacheDir() 方法可以获取到 SDCard/Android/data/你的应用包名/cache/目录，一般存放临时缓存数据</p><p>应用外部的话，可以用 Environment.getExternalStorageDirectory() 来索取到默认内置存储的根路径，即 “/storage/emulated/0”，这种情况下卸载应用时不会清除哦</p><h4 id="Handler-理解源码分析"><a href="#Handler-理解源码分析" class="headerlink" title="Handler 理解源码分析"></a>Handler 理解源码分析</h4><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/lishuangling21/article/details/70767586">https://blog.csdn.net/lishuangling21/article/details/70767586</a></p><h4 id="获取-Android-手机里所有已安装的APP"><a href="#获取-Android-手机里所有已安装的APP" class="headerlink" title="获取 Android 手机里所有已安装的APP"></a>获取 Android 手机里所有已安装的APP</h4><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/lishuangling21/article/details/50789715">https://blog.csdn.net/lishuangling21/article/details/50789715</a></p><h4 id="Eclipse-copy-风格的快捷键"><a href="#Eclipse-copy-风格的快捷键" class="headerlink" title="Eclipse copy 风格的快捷键"></a>Eclipse copy 风格的快捷键</h4><p>ctrl+H 找有没有引用</p><p>ctrl+shift+R 进入文件的资源管理器路径</p><h4 id="项目恢复"><a href="#项目恢复" class="headerlink" title="项目恢复"></a>项目恢复</h4><p>资源管理器中右键模块→ GIT → Revert →找到相应的模块项目恢复即可</p><h4 id="工程资源清理"><a href="#工程资源清理" class="headerlink" title="工程资源清理"></a>工程资源清理</h4><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/caoxiao90/article/details/51057986">https://blog.csdn.net/caoxiao90/article/details/51057986</a></p><p>打开 AS，点击工具栏的 Analyze-Run Inspection by Name-输入 unused resources-选择要搜索的范围回车-查看搜索结果并删除无用的资源文件</p><p>出来运行结果后，展开到最小条目后，双击打开文件，再在资源管理器右上方点击多重圆圈按钮 “Scroll from source”，定位到具体文件夹，注意最好要在 Android 视图方式打开，可以合并同类资源到同一个文件夹下面，然后直接删除文件夹可以一次性删除多个。删除时要选中 Safe search，会进行再次检查有没有 usage，最后才确认是否删除</p><p>在 Version Control 中可以找到改动，便于检查</p><p>确保效果和不出差错，善于利用 ctrl+H 找有没有引用和 ctrl+shift+R 进入文件的资源管理器路径</p><h4 id="【Android-珍藏】推荐10个炫酷的开源库"><a href="#【Android-珍藏】推荐10个炫酷的开源库" class="headerlink" title="【Android 珍藏】推荐10个炫酷的开源库"></a>【Android 珍藏】推荐10个炫酷的开源库</h4><p><a target="_blank" rel="noopener" href="https://juejin.im/post/5b50898ef265da0fa21a7f0f">https://juejin.im/post/5b50898ef265da0fa21a7f0f</a></p><h4 id="ButterKnife-BindView-时报-Required-view-ID-was-not-found-异常"><a href="#ButterKnife-BindView-时报-Required-view-ID-was-not-found-异常" class="headerlink" title="ButterKnife@BindView 时报 Required view ID was not found 异常"></a>ButterKnife@BindView 时报 Required view ID was not found 异常</h4><p>解决思路：在 @BindView 前面加上 @Nullable 或者 @Optional</p><h4 id="BottomNavigationView-的相关网页"><a href="#BottomNavigationView-的相关网页" class="headerlink" title="BottomNavigationView 的相关网页"></a>BottomNavigationView 的相关网页</h4><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/yihuangol/article/details/74370289">https://blog.csdn.net/yihuangol/article/details/74370289</a></p><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/xiaoyangsavvy/article/details/70213537">https://blog.csdn.net/xiaoyangsavvy/article/details/70213537</a></p><h4 id="Fragment-使用"><a href="#Fragment-使用" class="headerlink" title="Fragment 使用"></a>Fragment 使用</h4><p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/fd71d65f0ec6">https://www.jianshu.com/p/fd71d65f0ec6</a></p><h4 id="开发要点"><a href="#开发要点" class="headerlink" title="开发要点"></a>开发要点</h4><p>所有变量声明放在最外面，初始化看情况而定，List，arrarylist 这些可以声明时就初始化，直接 new…</p><h4 id="Butterknife-和-reclclerview-的综合用法"><a href="#Butterknife-和-reclclerview-的综合用法" class="headerlink" title="Butterknife 和 reclclerview 的综合用法"></a>Butterknife 和 reclclerview 的综合用法</h4><p><a target="_blank" rel="noopener" href="https://www.aliyun.com/jiaocheng/15082.html">https://www.aliyun.com/jiaocheng/15082.html</a></p><h4 id="RecyclerView-点击事件接口回调"><a href="#RecyclerView-点击事件接口回调" class="headerlink" title="RecyclerView 点击事件接口回调"></a>RecyclerView 点击事件接口回调</h4><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/willba/article/details/72878345">https://blog.csdn.net/willba/article/details/72878345</a></p><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weikai_/article/details/78936013">https://blog.csdn.net/weikai_/article/details/78936013</a></p><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/xieluoxixi/article/details/61924372">https://blog.csdn.net/xieluoxixi/article/details/61924372</a></p><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/dl10210950/article/details/52918019">https://blog.csdn.net/dl10210950/article/details/52918019</a></p><h4 id="获取-RecyclerView-的-Item-中的-EditText-的内容"><a href="#获取-RecyclerView-的-Item-中的-EditText-的内容" class="headerlink" title="获取 RecyclerView 的 Item 中的 EditText 的内容"></a>获取 RecyclerView 的 Item 中的 EditText 的内容</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java">EditText TmpEditText= (EditText)mRecyclerView.getChildAt(position).findViewById(R.id.app_input);<br>String app_name= TmpEditText.getText().toString();<br></code></pre></td></tr></table></figure><h4 id="透明背景文字图片做法"><a href="#透明背景文字图片做法" class="headerlink" title="透明背景文字图片做法"></a>透明背景文字图片做法</h4><p>利用ppt，确定文字效果以后再复制，左上角找到选择性粘贴，选中 “PNG图片”，图片粘贴在PPT上面后再另存为图片保存为 PNG 格式，保存到资源文件管理器中</p><h4 id="RecyclerView-复用问题，坑大半天的问题"><a href="#RecyclerView-复用问题，坑大半天的问题" class="headerlink" title="RecyclerView 复用问题，坑大半天的问题"></a>RecyclerView 复用问题，坑大半天的问题</h4><p>onBindViewHolder 会有多次调用重绘，if-else 条件必须确保完整。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Override</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onBindViewHolder</span><span class="hljs-params">(ViewHolder holder, <span class="hljs-keyword">int</span> position)</span> </span>&#123;<br><br>    holder.app_icon.setImageDrawable(app_list.get(position).getImage());<br>    holder.app_name.setText(app_list.get(position).getName());<br>    <span class="hljs-keyword">if</span> (app_list.get(position).getIsHasUpdate()==<span class="hljs-keyword">false</span>)&#123;<br>        holder.isHasUpdate.setVisibility(View.GONE);<br>    &#125;<br>    <span class="hljs-comment">//一定必须要加下面的else</span><br>    <span class="hljs-keyword">else</span>&#123;<br>        holder.isHasUpdate.setVisibility(View.VISIBLE);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/csdn_aiyang/article/details/80094302">https://blog.csdn.net/csdn_aiyang/article/details/80094302</a></p><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/like_program/article/details/52517119">https://blog.csdn.net/like_program/article/details/52517119</a></p><h4 id="SwipeRefreshLayout-使用"><a href="#SwipeRefreshLayout-使用" class="headerlink" title="SwipeRefreshLayout 使用"></a>SwipeRefreshLayout 使用</h4><p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/d23b42b6360b">https://www.jianshu.com/p/d23b42b6360b</a></p><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/yl104221034/article/details/50582644">https://blog.csdn.net/yl104221034/article/details/50582644</a></p><h4 id="ImageButton-背景透明"><a href="#ImageButton-背景透明" class="headerlink" title="ImageButton 背景透明"></a>ImageButton 背景透明</h4><p>xml里面设置 android:background=”@null”</p><h4 id="坑爹-RecyclerView-获取子-Item-位置问题"><a href="#坑爹-RecyclerView-获取子-Item-位置问题" class="headerlink" title="坑爹 RecyclerView 获取子 Item 位置问题"></a>坑爹 RecyclerView 获取子 Item 位置问题</h4><p>getChildAt 函数只能获取屏幕可见的子 Item</p><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/binbin960211892/article/details/78662388">https://blog.csdn.net/binbin960211892/article/details/78662388</a></p><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/higson/article/details/52819327">https://blog.csdn.net/higson/article/details/52819327</a></p><h4 id="跳转应用市场详情界面查看"><a href="#跳转应用市场详情界面查看" class="headerlink" title="跳转应用市场详情界面查看"></a>跳转应用市场详情界面查看</h4><p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/a4a806567368">https://www.jianshu.com/p/a4a806567368</a></p><h4 id="文件搜索"><a href="#文件搜索" class="headerlink" title="文件搜索"></a>文件搜索</h4><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_21194621/article/details/51627274">https://blog.csdn.net/qq_21194621/article/details/51627274</a></p><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/zzh12138/article/details/71077909">https://blog.csdn.net/zzh12138/article/details/71077909</a></p><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/sinat_33585352/article/details/80741648">https://blog.csdn.net/sinat_33585352/article/details/80741648</a></p><h4 id="计算-App-占用空间"><a href="#计算-App-占用空间" class="headerlink" title="计算 App 占用空间"></a>计算 App 占用空间</h4><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/bingqingsuimeng/article/details/51062300">https://blog.csdn.net/bingqingsuimeng/article/details/51062300</a></p><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/m6711154/article/details/52000041">https://blog.csdn.net/m6711154/article/details/52000041</a></p><h4 id="避免代码复用出现问题"><a href="#避免代码复用出现问题" class="headerlink" title="避免代码复用出现问题"></a>避免代码复用出现问题</h4><p>setVisibility 为不可见之后要注意判断后面还有没有复用，添加 if 判断重新设置为可见</p><h4 id="文件扫描搜索"><a href="#文件扫描搜索" class="headerlink" title="文件扫描搜索"></a>文件扫描搜索</h4><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/yuzhiqiang_1993/article/details/78140580">https://blog.csdn.net/yuzhiqiang_1993/article/details/78140580</a></p><h4 id="通过媒体库提供方式实现文件扫描搜索"><a href="#通过媒体库提供方式实现文件扫描搜索" class="headerlink" title="通过媒体库提供方式实现文件扫描搜索"></a>通过媒体库提供方式实现文件扫描搜索</h4><p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/a6bdbefde77a">https://www.jianshu.com/p/a6bdbefde77a</a></p><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/zocki33250/article/details/48112669">https://blog.csdn.net/zocki33250/article/details/48112669</a></p><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/yaochangliang159/article/details/51878841">https://blog.csdn.net/yaochangliang159/article/details/51878841</a></p><h4 id="RecyclerView-完美实现拖拽，滑动删除，撤销删除"><a href="#RecyclerView-完美实现拖拽，滑动删除，撤销删除" class="headerlink" title="RecyclerView 完美实现拖拽，滑动删除，撤销删除"></a>RecyclerView 完美实现拖拽，滑动删除，撤销删除</h4><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/hymanme/article/details/50931082">https://blog.csdn.net/hymanme/article/details/50931082</a></p><h4 id="SurfaceView-用处，用法"><a href="#SurfaceView-用处，用法" class="headerlink" title="SurfaceView 用处，用法"></a>SurfaceView 用处，用法</h4><p><a target="_blank" rel="noopener" href="http://www.jcodecraeer.com/a/anzhuokaifa/androidkaifa/2012/1201/656.html">http://www.jcodecraeer.com/a/anzhuokaifa/androidkaifa/2012/1201/656.html</a></p><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/ShanYu1198124123/article/details/52448586">https://blog.csdn.net/ShanYu1198124123/article/details/52448586</a></p><h4 id="SurfaceView-和-TextureView-对比"><a href="#SurfaceView-和-TextureView-对比" class="headerlink" title="SurfaceView 和 TextureView 对比"></a>SurfaceView 和 TextureView 对比</h4><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/hejjunlin/article/details/58582919">https://blog.csdn.net/hejjunlin/article/details/58582919</a></p><p>我的思路是用 MediaPlayer 和 TextureView 来结合实现。（VideoView底层用的也是MediaPlayer，至于为什么不用 SurfaceView 而用 TextureView，是因为 SurfaceView不能放在可滑动的控件中，至于具体原因和缺点如果不清楚可自行百度之，TextureView 正是为了解决这个问题而存在的。</p><p>在 Android 总播放视频可以直接使用<code>VideoView</code>，<code>VideoView</code>是通过继承自<code>SurfaceView</code>来实现的。<code>SurfaceView</code>的大概原理就是在现有<code>View</code>的位置上创建一个新的<code>Window</code>，内容的显示和渲染都在新的<code>Window</code>中。这使得<code>SurfaceView</code>的绘制和刷新可以在单独的线程中进行，从而大大提高效率。但是呢，由于<code>SurfaceView</code>的内容没有显示在<code>View</code>中而是显示在新建的<code>Window</code>中， 使得<code>SurfaceView</code>的显示不受<code>View</code>的属性控制，不能进行平移，缩放等变换，也不能放在其它<code>RecyclerView</code>或<code>ScrollView</code>中，一些<code>View</code>中的特性也无法使用。</p><h4 id="Mediaplayer换成Exoplayer的方法"><a href="#Mediaplayer换成Exoplayer的方法" class="headerlink" title="Mediaplayer换成Exoplayer的方法"></a>Mediaplayer换成Exoplayer的方法</h4><p>版本号 2.5版本以前为 r2.x.x，2.5版本以后为 2.x.x</p><p>了解两种播放器的状态转换和监听接口回调，多打日志观察回调过程。</p><p>学习接口的写法，就像这次项目的更换，在有 Mediaplayer 的地方换成 ExoPlayer 的对应方法即可。VideoPlayerController 的代码完全不用改。</p><h4 id="新优化集成问题"><a href="#新优化集成问题" class="headerlink" title="新优化集成问题"></a>新优化集成问题</h4><p>第一时间想到能否集成，集成开销，对 APK 包大小的影响，老机器版本兼容性，建立表格，拍摄小视频等确认效果对比。</p><h4 id="开源项目推荐的网址"><a href="#开源项目推荐的网址" class="headerlink" title="开源项目推荐的网址"></a>开源项目推荐的网址</h4><p><a target="_blank" rel="noopener" href="https://www.ctolib.com/android/">https://www.ctolib.com/android/</a></p><h4 id="“-”-和-“equals”-有什么差别？"><a href="#“-”-和-“equals”-有什么差别？" class="headerlink" title="“==” 和 “equals” 有什么差别？"></a>“==” 和 “equals” 有什么差别？</h4><p>equals用于判断对象的内容是否相等，==运算符用于比较对象的引用是否一致</p><h4 id="Apk-反编译"><a href="#Apk-反编译" class="headerlink" title="Apk 反编译"></a>Apk 反编译</h4><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/s13383754499/article/details/78914592">https://blog.csdn.net/s13383754499/article/details/78914592</a></p><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/spring87/p/4525647.html">https://www.cnblogs.com/spring87/p/4525647.html</a></p><h4 id="依赖源码不起作用？三大重置方法"><a href="#依赖源码不起作用？三大重置方法" class="headerlink" title="依赖源码不起作用？三大重置方法"></a>依赖源码不起作用？三大重置方法</h4><ul><li>clean project</li><li>Invalie Cache and restart</li><li>关掉instant run</li></ul><h4 id="CMD-Markdown编辑器"><a href="#CMD-Markdown编辑器" class="headerlink" title="CMD Markdown编辑器"></a>CMD Markdown编辑器</h4><p><a target="_blank" rel="noopener" href="https://www.zybuluo.com/mdeditor">https://www.zybuluo.com/mdeditor</a></p><h4 id="So-文件兼容-CPU-架构"><a href="#So-文件兼容-CPU-架构" class="headerlink" title="So 文件兼容 CPU 架构"></a>So 文件兼容 CPU 架构</h4><p><a target="_blank" rel="noopener" href="http://xuchongyang.com/2017/03/12/%E6%8E%A2%E5%AF%BB-Android-so-%E5%BA%93/">http://xuchongyang.com/2017/03/12/%E6%8E%A2%E5%AF%BB-Android-so-%E5%BA%93/</a></p><h4 id="Binary-XML-file-line-Error-inflating-class"><a href="#Binary-XML-file-line-Error-inflating-class" class="headerlink" title="Binary XML file line # : Error inflating class"></a>Binary XML file line # : Error inflating class</h4><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/huangxiaohu_coder/article/details/8497286">https://blog.csdn.net/huangxiaohu_coder/article/details/8497286</a></p><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/xiabing082/article/details/43487159">https://blog.csdn.net/xiabing082/article/details/43487159</a></p><h4 id="Complie-和-Provided-区别"><a href="#Complie-和-Provided-区别" class="headerlink" title="Complie 和 Provided 区别"></a>Complie 和 Provided 区别</h4><p>Provided只是IDE编译时依赖，但是不打包到APK，也就是说编译时通过，但是不保证手机安装APK后是否能运行。</p><h4 id="TextView-优化"><a href="#TextView-优化" class="headerlink" title="TextView 优化"></a>TextView 优化</h4><p><a target="_blank" rel="noopener" href="http://codethink.me/2015/04/23/improving-comment-rendering-on-android/">http://codethink.me/2015/04/23/improving-comment-rendering-on-android/</a></p><h4 id="视频基础知识"><a href="#视频基础知识" class="headerlink" title="视频基础知识"></a>视频基础知识</h4><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/zhs4430169/article/details/76502217">https://blog.csdn.net/zhs4430169/article/details/76502217</a></p><h4 id="Android-性能优化"><a href="#Android-性能优化" class="headerlink" title="Android 性能优化"></a>Android 性能优化</h4><p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/307ba8911799">https://www.jianshu.com/p/307ba8911799</a></p><h4 id="DNS-优化"><a href="#DNS-优化" class="headerlink" title="DNS 优化"></a>DNS 优化</h4><p><a target="_blank" rel="noopener" href="https://my.oschina.net/sudujuncom/blog/874699">https://my.oschina.net/sudujuncom/blog/874699</a></p><h4 id="修改第三方库"><a href="#修改第三方库" class="headerlink" title="修改第三方库"></a>修改第三方库</h4><p>final 类型的不可继承修改</p><p>继承要修改的类，右键新类名可以 generate 构造函数。再 @Override 具体修改的函数，记得要 super 父类函数</p></div><hr><div><div class="post-metas mb-3"></div><p class="note note-warning">本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！</p><div class="post-prevnext"><article class="post-prev col-6"><a href="/2018/09/13/Android%E5%B9%B3%E5%8F%B0%E4%B8%8B%E7%9A%84%E6%92%AD%E6%94%BE%E5%99%A8%E6%A1%86%E6%9E%B6%E8%B5%84%E6%96%99%E6%94%B6%E8%97%8F/"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">Android平台下的播放器框架资料收藏</span> <span class="visible-mobile">上一篇</span></a></article><article class="post-next col-6"><a href="/2018/07/10/%E5%88%A9%E7%94%A8DNS%E9%9A%A7%E9%81%93%E5%85%8D%E8%AE%A4%E8%AF%81%E4%B8%8A%E7%BD%91/"><span class="hidden-mobile">利用DNS隧道免认证上网</span> <span class="visible-mobile">下一篇</span> <i class="iconfont icon-arrowright"></i></a></article></div></div><article class="comments" id="comments" lazyload><div id="valine"></div><script type="text/javascript">Fluid.utils.loadComments("#valine",(function(){Fluid.utils.createScript("https://cdn.jsdelivr.net/npm/valine@1.4.14/dist/Valine.min.js",(function(){var a=Object.assign({appId:"0pn8PXbA3sKEuVH8KpP9X0A0-9Nh9j0Va",appKey:"UEkRIotTtFIsgmheXMFMWtvl",placeholder:"说点什么...(昵称填Q号可以用QQ头像作评论头像 or 邮箱填Gravatar的邮箱)",path:"window.location.pathname",avatar:"retro",meta:["nick","mail","link"],pageSize:10,lang:"zh-CN",highlight:!1,recordIP:!1,serverURLs:"",emojiCDN:null,emojiMaps:null,enableQQ:!0,requiredFields:[]},{el:"#valine",path:window.location.pathname});new Valine(a)}))}))</script><noscript>Please enable JavaScript to view the comments</noscript></article></article></div></div></div><div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p><div class="toc-body" id="toc-body"></div></div></div></div></div><a id="scroll-top-button" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div><div class="col-lg-7 mx-auto nopadding-x-md"><div class="container custom mx-auto"><div id="aplayer"></div><script type="text/javascript" src="/js/APlayer.min.js"></script><script type="text/javascript" src="/js/music.js"></script></div></div></main><footer class="text-center mt-5 py-3"><div class="footer-content"><span>Theme - </span><a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a></div><div class="statistics"><span id="busuanzi_container_site_pv" style="display:none">总访问量 <span id="busuanzi_value_site_pv"></span> 次 </span><span id="busuanzi_container_site_uv" style="display:none">总访客数 <span id="busuanzi_value_site_uv"></span> 人</span></div></footer><script src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",(function(){NProgress.done()}))</script><script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="/js/img-lazyload.js"></script><script src="https://cdn.jsdelivr.net/npm/tocbot@4.12.3/dist/tocbot.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/anchor-js@4.3.1/anchor.min.js"></script><script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.8/dist/clipboard.min.js"></script><script src="/js/local-search.js"></script><script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12/lib/typed.min.js"></script><script>!function(t,i){(0,Fluid.plugins.typing)(i.getElementById("subtitle").title)}(window,document)</script><script src="/js/boot.js"></script></body></html>